# 曲阜师范大学2025年毕业典礼照片下载工具

![曲阜师范大学2025年毕业典礼](banner.jpeg)

## 📸 项目简介

本项目是专门为**曲阜师范大学2025年毕业典礼**官方照片下载而开发的批量下载脚本。由于官方照片链接可能失效，本工具可以快速批量下载所有毕业典礼照片，确保珍贵回忆得以永久保存。

### 📊 照片信息
- **照片来源**: [曲阜师范大学2025年毕业典礼官方相册](https://www.xxpie.com/m/album?id=684fe6d7e66eb911b3071bc3&nowatermark=Njg0ZmU2ZDdlNjZlYjkxMWIzMDcxYmMzJDA=&mini=0)
- **照片总数**: 3749张
- **拍摄时间**: 2025年毕业典礼
- **照片质量**: 支持多种分辨率，最高原图质量

### 💾 百度网盘备份
为了方便同学们获取照片，已将所有照片上传至百度网盘：

**通过网盘分享的文件：曲阜师范大学2025年毕业典礼照片**
- **链接**: https://pan.quark.cn/s/2ec9a69ab422

## 🚀 工具特性

### v4.0 核心功能
- ✅ **高速并发下载** - 多线程技术，速度提升5-10倍
- ✅ **智能线程管理** - 可配置并发数，适应不同网络环境
- ✅ **线程安全设计** - 稳定可靠的并发处理
- ✅ **实时进度统计** - 显示下载速度和完成情况
- ✅ **失败重试机制** - 自动重试失败的下载

### 技术特点
- ✅ **官方API调用** - 使用官方API获取照片列表，更稳定可靠
- ✅ **多质量支持** - 支持从缩略图到原图的7种质量选择
- ✅ **详细信息显示** - 显示文件大小、分辨率、数量统计
- ✅ **智能认证处理** - 自动提取访问令牌，无需手动配置
- ✅ **分页获取支持** - 支持大量照片的相册完整获取

## 🚀 快速开始

### ⚡ 一键下载（推荐）
```bash
python photo_downloader.py
# 直接按回车使用默认的曲阜师范大学毕业典礼相册
# 选择图片质量（推荐选择 7-原图）
# 确认开始下载全部3749张照片
```

### 📋 详细使用步骤

#### 1. 环境准备
```bash
# 安装依赖
pip install -r requirements.txt

# 运行下载脚本
python photo_downloader.py
```

#### 2. 相册配置
程序已预设曲阜师范大学2025年毕业典礼相册，直接按回车即可：
```
默认相册: 曲阜师范大学2025年毕业典礼
URL: https://www.xxpie.com/m/album?id=684fe6d7e66eb911b3071bc3&nowatermark=...
照片总数: 3749张
```

#### 3. 下载设置
- **下载目录**: 默认 `graduation_photos`（可自定义）
- **并发线程数**:
  - 网络较慢: 4-8 线程
  - 网络一般: 8-16 线程
  - 网络较快: 16-32 线程
  - 默认推荐: 8 线程

#### 4. 图片质量选择
提供7种质量选项，推荐选择原图：
- **缩略图** (thumbnail) - 最小文件
- **500px** (large500) - 小文件
- **800px** (large800) - 中等文件
- **1024px** (large1024) - 较大文件
- **1920px** (large) - 大文件
- **2560px** (large1920) - 超大文件
- **原图** (origin) - 最大文件，最高质量 ⭐️**推荐**

#### 5. 开始下载
确认设置后，程序将显示：
- 照片总数: 3749张
- 预计文件大小
- 前5张照片预览信息
- 并发下载进度和统计

## 💻 使用流程示例

```bash
$ python photo_downloader.py

曲阜师范大学2025年毕业典礼照片下载工具 v4.0
============================================================
🎓 曲阜师范大学2025年毕业典礼官方照片下载
📸 照片总数: 3749张
🚀 支持高速并发下载，多线程技术
� 已备份至百度网盘，提取码: 2025
============================================================

默认相册: 曲阜师范大学2025年毕业典礼
URL: https://www.xxpie.com/m/album?id=684fe6d7e66eb911b3071bc3&nowatermark=...

请输入相册页面URL (直接按回车使用默认): [直接按回车]
✅ 使用曲阜师范大学2025年毕业典礼相册

请输入下载目录 (默认: graduation_photos): [直接按回车]
✅ 使用默认目录: graduation_photos

⚙️ 并发设置 (推荐8线程):
请输入并发线程数 (默认: 8): [直接按回车]
✅ 使用8线程并发下载

请选择下载图片质量:
1. 缩略图 (thumbnail) - 最小文件
2. 500px (large500) - 小文件
3. 800px (large800) - 中等文件
4. 1024px (large1024) - 较大文件
5. 1920px (large) - 大文件
6. 2560px (large1920) - 超大文件
7. 原图 (origin) - 最大文件，最高质量 ⭐️推荐
请选择 (1-7，默认选择原图): 7

确认开始下载曲阜师范大学毕业典礼照片？(y/N): y

🎓 开始处理曲阜师范大学2025年毕业典礼相册...
相册ID: 684fe6d7e66eb911b3071bc3
✅ 找到访问令牌
正在获取照片列表...
✅ 成功获取 3749 张照片信息

📊 毕业典礼照片统计:
图片数量: 3749张
选择质量: 原图 (origin)
预计总大小: 约11.2 GB

前5张图片预览:
  1. 5N8A9246.jpg (3.1MB) 4000x2666
  2. 9N4A8124.jpg (3.2MB) 3967x2644
  3. CE9A8948.jpg (2.9MB) 4000x2666
  4. CUI_2618.jpg (3.1MB) 4000x2666
  5. TYWH4001.jpg (2.8MB) 3840x2560
  ... 还有 3744 张图片

确认下载这 3749 张毕业典礼照片？(y/N): y

🚀 开始并发下载 3749 张毕业典礼照片...
📊 并发线程数: 8线程
============================================================
[1/3749] 完成: 5N8A9246.jpg (3.1MB)
[2/3749] 完成: 9N4A8124.jpg (3.2MB)
[3/3749] 完成: CE9A8948.jpg (2.9MB)
...

📊 下载进度: 13.3% (500/3749) - 成功:485, 跳过:12, 失败:3
⏱️  预计剩余时间: 约15分钟

...

============================================================
🎉 曲阜师范大学2025年毕业典礼照片下载完成！
📊 下载统计:
   总数量: 3749张
   成功: 3720张
   跳过: 25张 (已存在)
   失败: 4张
   耗时: 285.6秒 (约4.8分钟)
   平均速度: 13.1张/秒
   总大小: 约10.8 GB

📁 照片保存位置: graduation_photos/
💾 百度网盘备份: https://pan.baidu.com/s/18FJpb3iPQ2c-vJLN-ol4Sg?pwd=2025
```

## 🔧 技术特性

### 🚀 核心技术
- **官方API调用**: 使用 `https://int.xxpie.com/api/pm/queryAlbumItemsPgByDefaultSort`
- **自动分页获取**: 支持大量照片的相册，自动获取所有页面
- **智能认证处理**: 自动提取访问令牌，无需手动配置
- **多线程并发**: 支持4-32线程并发下载，大幅提升速度

### 🎨 多质量支持
```python
# 支持7种图片质量选择
quality_options = {
    'thumbnail': 'url_thumbnail',      # 缩略图
    'large500': 'url_large500',        # 500px
    'large800': 'url_large800',        # 800px
    'large1024': 'url_large1024',      # 1024px
    'large': 'url_large',              # 1920px
    'large1920': 'url_large1920',      # 2560px
    'origin': 'url_origin'             # 原图 (推荐)
}
```

### � 性能优化
- **内存友好**: 使用流式下载，不占用大量内存
- **网络优化**: 合理的请求间隔和超时设置
- **错误恢复**: 自动重试机制，提高成功率
- **进度统计**: 实时显示下载进度和速度

## 📁 文件结构

下载完成后的目录结构：
```
graduation_photos/
├── 5N8A9246.jpg        # 毕业典礼照片
├── 9N4A8124.jpg        # 毕业典礼照片
├── CE9A8948.jpg        # 毕业典礼照片
├── CUI_2618.jpg        # 毕业典礼照片
├── TYWH4001.jpg        # 毕业典礼照片
├── WECH0002.jpg        # 毕业典礼照片
├── ZXC_4172.jpg        # 毕业典礼照片
└── ... (共3749张照片)
```

## ⚠️ 使用说明

### 📋 注意事项
1. **合法使用**: 本工具仅用于个人学习和纪念用途
2. **网络环境**: 确保网络连接稳定，建议使用有线网络
3. **存储空间**: 原图质量约需11GB存储空间
4. **下载时间**: 根据网络速度，预计需要5-30分钟

### 🔍 常见问题
**Q: 下载失败怎么办？**
A: 程序有自动重试机制，如仍失败可降低并发数重试

**Q: 可以选择部分照片下载吗？**
A: 当前版本下载全部照片，如需部分照片建议使用百度网盘

**Q: 照片质量如何选择？**
A: 推荐选择原图质量，确保最佳的纪念效果

## ⚡ 性能优化建议

### 🚀 推荐配置
- **曲阜师范大学毕业典礼(3749张)**: 推荐16-32线程
- **网络较快**: 16-32线程，预计5-10分钟完成
- **网络一般**: 8-16线程，预计10-20分钟完成
- **网络较慢**: 4-8线程，预计20-30分钟完成

### 💾 存储建议
- **所需空间**: 原图质量约11GB，建议预留15GB空间
- **硬盘类型**: SSD硬盘可提升写入速度
- **存储位置**: 避免在系统盘下载，建议使用数据盘

### 📊 预期性能
- **8线程并发**: 约8-15张/秒
- **16线程并发**: 约15-25张/秒
- **实际速度**: 取决于网络条件和服务器响应

## � 项目结构

```
曲阜师范大学2025年毕业典礼照片下载工具/
├── README.md                    # 项目说明文档
├── banner.jpeg                  # README封面图
├── photo_downloader.py          # 主程序文件
├── requirements.txt             # Python依赖包
├── graduation_photos/           # 下载的照片目录 (3749张照片)
│   ├── 5N8A9246.jpg            # 毕业典礼照片
│   ├── 9N4A8124.jpg            # 毕业典礼照片
│   ├── CE9A8948.jpg            # 毕业典礼照片
│   └── ... (共3749张)
└── tests/                       # 测试文件夹
    ├── test_downloader.py       # 核心功能测试
    ├── test_concurrent.py       # 并发功能测试
    └── quick_test.py            # 快速功能验证
```

## 🧪 测试验证

```bash
# 核心功能测试
python tests/test_downloader.py

# 并发功能测试
python tests/test_concurrent.py

# 快速验证
python tests/quick_test.py
```

## 🔄 版本历史

- **v4.0** (当前): 多线程并发下载，专为曲阜师范大学毕业典礼优化
- **v3.0**: 官方API调用，支持多种图片质量
- **v2.0**: 优化下载逻辑，增强错误处理
- **v1.0**: 基础下载功能

## 📞 联系方式

如有问题或建议，欢迎通过以下方式联系：
- 📧 邮箱: 通过GitHub Issues反馈

---

**🎓 曲阜师范大学2025年毕业快乐！**

**免责声明**: 本工具仅供个人学习和纪念使用，请遵守相关法律法规。
